{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\judel\\\\Project Repositories\\\\fullstack-todo-list\\\\frontend\\\\src\\\\pages\\\\TodoList.js\",\n  _s = $RefreshSig$();\nimport { useEffect } from 'react';\nimport ListForm from '../components/ListForm.jsx';\nimport Task from '../components/Task.jsx';\nimport { useTasksContext } from \"../hooks/useTasksContext.js\";\nimport { useAuthContext } from \"../hooks/useAuthContext.js\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst TodoList = () => {\n  _s();\n  const URL = process.env.REACT_APP_API_URL;\n  const {\n    user\n  } = useAuthContext();\n  const {\n    tasks,\n    dispatch\n  } = useTasksContext();\n  useEffect(() => {\n    const fetchTasks = async () => {\n      const response = await fetch(`${URL}/api/tasks`, {\n        headers: {\n          'Authorization': `Bearer ${user.token}`\n        }\n      });\n      const json = await response.json();\n      if (response.ok) {\n        dispatch({\n          type: \"SET_TASKS\",\n          payload: json\n        });\n      }\n    };\n    if (user) {\n      fetchTasks();\n    }\n  }, [dispatch, user]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"todo-list\",\n    children: [/*#__PURE__*/_jsxDEV(ListForm, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"tasks\",\n      children: tasks && tasks.map(task => /*#__PURE__*/_jsxDEV(Task, {\n        task: task\n      }, task._id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 21\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 29,\n    columnNumber: 9\n  }, this);\n};\n_s(TodoList, \"ZSok7X3vnA7okp+8+0phfq+7nZs=\", false, function () {\n  return [useAuthContext, useTasksContext];\n});\n_c = TodoList;\nexport default TodoList;\nvar _c;\n$RefreshReg$(_c, \"TodoList\");","map":{"version":3,"names":["useEffect","ListForm","Task","useTasksContext","useAuthContext","jsxDEV","_jsxDEV","TodoList","_s","URL","process","env","REACT_APP_API_URL","user","tasks","dispatch","fetchTasks","response","fetch","headers","token","json","ok","type","payload","className","children","fileName","_jsxFileName","lineNumber","columnNumber","map","task","_id","_c","$RefreshReg$"],"sources":["C:/Users/judel/Project Repositories/fullstack-todo-list/frontend/src/pages/TodoList.js"],"sourcesContent":["import { useEffect } from 'react'\r\nimport ListForm from '../components/ListForm.jsx'\r\nimport Task from '../components/Task.jsx'\r\nimport { useTasksContext} from \"../hooks/useTasksContext.js\"\r\nimport { useAuthContext } from \"../hooks/useAuthContext.js\"\r\n\r\nconst TodoList = () => {\r\n    const URL = process.env.REACT_APP_API_URL\r\n    const {user}  = useAuthContext()\r\n    const {tasks, dispatch} = useTasksContext()\r\n    useEffect(() => {\r\n        const fetchTasks = async () => {\r\n            const response = await fetch(`${URL}/api/tasks`, {\r\n                headers: {\r\n                    'Authorization': `Bearer ${user.token}`\r\n                }\r\n            })\r\n            const json = await response.json()\r\n\r\n            if (response.ok) {\r\n                dispatch({type:\"SET_TASKS\", payload: json})\r\n            }\r\n        }\r\n        if (user){\r\n            fetchTasks()\r\n        }\r\n    },[dispatch, user])\r\n    return (\r\n        <div className = \"todo-list\">\r\n            <ListForm />\r\n            <div className=\"tasks\">\r\n                {tasks && tasks.map((task) => (\r\n                    <Task key = {task._id} task={task}/>\r\n                ))}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default TodoList\r\n"],"mappings":";;AAAA,SAASA,SAAS,QAAQ,OAAO;AACjC,OAAOC,QAAQ,MAAM,4BAA4B;AACjD,OAAOC,IAAI,MAAM,wBAAwB;AACzC,SAASC,eAAe,QAAO,6BAA6B;AAC5D,SAASC,cAAc,QAAQ,4BAA4B;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAE3D,MAAMC,QAAQ,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACnB,MAAMC,GAAG,GAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB;EACzC,MAAM;IAACC;EAAI,CAAC,GAAIT,cAAc,CAAC,CAAC;EAChC,MAAM;IAACU,KAAK;IAAEC;EAAQ,CAAC,GAAGZ,eAAe,CAAC,CAAC;EAC3CH,SAAS,CAAC,MAAM;IACZ,MAAMgB,UAAU,GAAG,MAAAA,CAAA,KAAY;MAC3B,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,GAAGT,GAAG,YAAY,EAAE;QAC7CU,OAAO,EAAE;UACL,eAAe,EAAE,UAAUN,IAAI,CAACO,KAAK;QACzC;MACJ,CAAC,CAAC;MACF,MAAMC,IAAI,GAAG,MAAMJ,QAAQ,CAACI,IAAI,CAAC,CAAC;MAElC,IAAIJ,QAAQ,CAACK,EAAE,EAAE;QACbP,QAAQ,CAAC;UAACQ,IAAI,EAAC,WAAW;UAAEC,OAAO,EAAEH;QAAI,CAAC,CAAC;MAC/C;IACJ,CAAC;IACD,IAAIR,IAAI,EAAC;MACLG,UAAU,CAAC,CAAC;IAChB;EACJ,CAAC,EAAC,CAACD,QAAQ,EAAEF,IAAI,CAAC,CAAC;EACnB,oBACIP,OAAA;IAAKmB,SAAS,EAAG,WAAW;IAAAC,QAAA,gBACxBpB,OAAA,CAACL,QAAQ;MAAA0B,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,eACZxB,OAAA;MAAKmB,SAAS,EAAC,OAAO;MAAAC,QAAA,EACjBZ,KAAK,IAAIA,KAAK,CAACiB,GAAG,CAAEC,IAAI,iBACrB1B,OAAA,CAACJ,IAAI;QAAkB8B,IAAI,EAAEA;MAAK,GAArBA,IAAI,CAACC,GAAG;QAAAN,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAc,CACtC;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACD,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACL,CAAC;AAEd,CAAC;AAAAtB,EAAA,CA/BKD,QAAQ;EAAA,QAEMH,cAAc,EACJD,eAAe;AAAA;AAAA+B,EAAA,GAHvC3B,QAAQ;AAiCd,eAAeA,QAAQ;AAAA,IAAA2B,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}